[{"/Users/sonjaparsell/Development/udemy-react/widgets/src/index.js":"1","/Users/sonjaparsell/Development/udemy-react/widgets/src/App.js":"2","/Users/sonjaparsell/Development/udemy-react/widgets/src/Components/Accordion.jsx":"3","/Users/sonjaparsell/Development/udemy-react/widgets/src/Components/Search.jsx":"4"},{"size":145,"mtime":1649175442138,"results":"5","hashOfConfig":"6"},{"size":624,"mtime":1651674597287,"results":"7","hashOfConfig":"6"},{"size":987,"mtime":1649876069672,"results":"8","hashOfConfig":"6"},{"size":3233,"mtime":1651781317442,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","suppressedMessages":"12","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1z08ads",{"filePath":"13","messages":"14","suppressedMessages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16","usedDeprecatedRules":"17"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},"/Users/sonjaparsell/Development/udemy-react/widgets/src/index.js",[],[],"/Users/sonjaparsell/Development/udemy-react/widgets/src/App.js",["25"],[],"import React from 'react';\n// import Accordion from './Components/Accordion';\nimport Search from './Components/Search';\n\nconst items = [\n    {\n        title: \"What is React?\", \n        content: \"React is a front end JavaScript framework\"\n    },\n    {\n        title: 'Why use React?', \n        content: \"Loreum Ipsum\"\n    }, \n    {\n        title: \"How do you learn React?\",\n        content: \"Loreum ipsum\"\n    }\n]\n\n// export default () => {\n    const App = () => {\n    return (\n        <div>\n            <br />\n            {/* <Accordion items={items}/> */}\n            <Search />\n        </div>\n    )\n};\n\nexport default App;",["26","27"],"/Users/sonjaparsell/Development/udemy-react/widgets/src/Components/Accordion.jsx",[],[],"/Users/sonjaparsell/Development/udemy-react/widgets/src/Components/Search.jsx",["28"],[],"import React from 'react';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios'\n\nconst Search = () => {\n\n    const [ term, setTerm ] = useState(\"\")\n    const [ results, setResults ] = useState([])\n\n    // console.log(term)\n    console.log(results)\n\n    // first option - most used in the community\n   useEffect(() => {\n       const search = async () => {\n           const { data } = await axios.get('https://en.wikipedia.org/w/api.php', {\n            \n                params: {\n                    action: 'query', \n                    list: 'search',\n                    origin: '*', \n                    format: 'json',\n                    // srsearch: debounceTerm,\n                    srsearch: term,\n                },\n           });\n\n           setResults(data.query.search);\n       };\n\n    //    if (debounceTerm) {\n    //     search()\n    //    }\n\n        if (term && results.length) {\n            search();\n        } else {\n\n        \n        const timeoutId = setTimeout(() => {\n            if (term) {\n                search();\n                }\n        }, 1500);   \n        \n        return () => {\n            clearTimeout(timeoutId);\n            console.log(\"clearing the timeout\")\n            }\n        };\n   },[term]);\n\n//    second option - immediately called function\n// useEffect(() => {\n//     (async () => {\n//         const { data } = await axios.get('https://en.wikipedia.org/w/api.php', {\n//             params: {\n//                 action: \"query\", \n//                 list: 'search', \n//                 origin: '*',\n//                 format: 'json',\n//                 srsearch: term,\n//             },\n//         });\n//         setResults(data);\n//     })(); \n// }, [term]);\n\n// third option - regular promise\n    // useEffect(() => {\n    //     axios.get(term)\n    //     .then((response) => {\n    //         console.log(response.data);\n    //     })\n    // })\n\n    const renderResults = results.map((result) => {\n        return (\n            <div key={result.pageid} className=\"item\">\n            <div className=\"right floated content\">\n                <a\n                href={`https://en.wikipedia.org?curid=${result.pageid}`} \n                className=\"ui button\">Go</a>\n            </div>\n            <div className=\"content\">\n                <div className=\"header\">\n                   <h2 > {result.title}</h2>\n                   <span dangerouslySetInnerHTML={{ __html: result.snippet }}></span>\n                </div>\n                {/* {result.snippet} */}\n            </div>\n        </div>\n        )\n    });\n\n\n    return (\n        <div>\n            <div className=\"ui form\">\n                <div className=\"ui field\">\n                    <label>What are you looking for?</label>\n                        <input \n                        className=\"input\"\n                        placeholder=\"type your search term here\"\n                        type=\"text\"\n                        value={term}\n                        onChange={e => setTerm(e.target.value)}\n                        />\n                </div>\n                <div className=\"ui celled list\">\n                {renderResults}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Search;",{"ruleId":"29","severity":1,"message":"30","line":5,"column":7,"nodeType":"31","messageId":"32","endLine":5,"endColumn":12},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","severity":1,"message":"38","line":51,"column":6,"nodeType":"39","endLine":51,"endColumn":12,"suggestions":"40"},"no-unused-vars","'items' is assigned a value but never used.","Identifier","unusedVar","no-native-reassign",["41"],"no-negated-in-lhs",["42"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'results.length'. Either include it or remove the dependency array.","ArrayExpression",["43"],"no-global-assign","no-unsafe-negation",{"desc":"44","fix":"45"},"Update the dependencies array to be: [results.length, term]",{"range":"46","text":"47"},[1242,1248],"[results.length, term]"]